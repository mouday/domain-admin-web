import{t as f,_ as N}from"./index.ec0f399a.js";import{ah as n,o as u,c as y,V as r,P as a,S as i,F as S,a8 as w,O as v,a as T,T as h,U as k}from"./vendor-vue.cefe3aef.js";const U={dns_type_id:[{message:"\u7C7B\u578B\u4E0D\u80FD\u4E3A\u7A7A",required:!0,trigger:"blur"}],name:[{message:"\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A",required:!0,trigger:"blur"}],access_key:[{message:"Access Key\u4E0D\u80FD\u4E3A\u7A7A",required:!0,trigger:"blur"}],secret_key:[{message:"Secret Key\u4E0D\u80FD\u4E3A\u7A7A",required:!0,trigger:"blur"}],create_time:[{message:"\u521B\u5EFA\u65F6\u95F4\u4E0D\u80FD\u4E3A\u7A7A",required:!0,trigger:"blur"}]},g={ALIYUN:1,TENCENT_CLOUD:2},b=[{value:g.ALIYUN,label:f("\u963F\u91CC\u4E91")},{value:g.TENCENT_CLOUD,label:f("\u817E\u8BAF\u4E91")}],x={name:"",props:{row:{type:Object,default:null}},components:{},data(){return{DNSTypeOptions:b,rules:U,form:{dns_type_id:b[0].value,name:"",access_key:"",secret_key:"",create_time:""}}},computed:{},methods:{async getData(){if(this.row){let o={dns_id:this.row.id};const e=await this.$http.getDnsById(o);if(e.code!=0)return;let s=e.data;this.form.dns_type_id=s.dns_type_id,this.form.name=s.name,this.form.access_key=s.access_key,this.form.secret_key=s.secret_key}},handleCancel(){this.$emit("on-cancel")},handleSubmit(){this.$refs.form.validate(o=>{if(o)this.confirmSubmit();else return!1})},async confirmSubmit(){var m;let o=this.$loading({fullscreen:!0}),e={dns_type_id:this.form.dns_type_id,name:this.form.name,access_key:this.form.access_key,secret_key:this.form.secret_key},s=null;if(this.row?(e.dns_id=this.row.id,s=await this.$http.updateDnsById(e)):s=await this.$http.addDns(e),s.code==0){const t=await this.$http.getDnsById({dns_id:((m=this.row)==null?void 0:m.id)||s.data.id});this.$msg.success("\u64CD\u4F5C\u6210\u529F"),this.$emit("on-success",t.data)}else this.$msg.error(s.msg);this.$nextTick(()=>{o.close()})}},created(){this.getData()}},K={class:"text-center"};function B(o,e,s,m,t,_){const d=n("el-input"),c=n("el-form-item"),V=n("el-option"),D=n("el-select"),C=n("el-form"),p=n("el-button");return u(),y("div",null,[r(C,{ref:"form",model:t.form,rules:t.rules,"label-width":"100px"},{default:a(()=>[i(" \u540D\u79F0 "),r(c,{label:"\u540D\u79F0",prop:"name"},{default:a(()=>[r(d,{type:"text",modelValue:t.form.name,"onUpdate:modelValue":e[0]||(e[0]=l=>t.form.name=l),placeholder:"\u8BF7\u8F93\u5165\u540D\u79F0"},null,8,["modelValue"])]),_:1}),i(" \u7C7B\u578B "),r(c,{label:"\u7C7B\u578B",prop:"dns_type_id"},{default:a(()=>[r(D,{modelValue:t.form.dns_type_id,"onUpdate:modelValue":e[1]||(e[1]=l=>t.form.dns_type_id=l),placeholder:o.$t("\u8BF7\u9009\u62E9\u7C7B\u578B")},{default:a(()=>[(u(!0),y(S,null,w(t.DNSTypeOptions,l=>(u(),v(V,{key:l.value,label:l.label,value:l.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1}),i(" Access Key "),r(c,{label:"Access Key",prop:"access_key"},{default:a(()=>[r(d,{type:"text",modelValue:t.form.access_key,"onUpdate:modelValue":e[2]||(e[2]=l=>t.form.access_key=l),placeholder:"\u8BF7\u8F93\u5165Access Key"},null,8,["modelValue"])]),_:1}),i(" Secret Key "),r(c,{label:"Secret Key",prop:"secret_key"},{default:a(()=>[r(d,{type:"text",modelValue:t.form.secret_key,"onUpdate:modelValue":e[3]||(e[3]=l=>t.form.secret_key=l),placeholder:"\u8BF7\u8F93\u5165Secret Key"},null,8,["modelValue"])]),_:1}),i(" \u521B\u5EFA\u65F6\u95F4 ")]),_:1},8,["model","rules"]),i(" \u64CD\u4F5C "),T("div",K,[r(p,{onClick:_.handleCancel},{default:a(()=>[h(k(o.$t("\u53D6\u6D88")),1)]),_:1},8,["onClick"]),r(p,{type:"primary",onClick:_.handleSubmit},{default:a(()=>[h(k(o.$t("\u786E\u5B9A")),1)]),_:1},8,["onClick"])])])}const O=N(x,[["render",B]]);export{O as D,b as a};
